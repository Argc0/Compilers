Επίθετο: ΡΙΤΣΟΓΙΑΝΝΗ
Όνομα: ΑΡΓΥΡΩ

3η Εργασία-Μεταγλωττιστές

Ο φάκελος περιέχει συνολικά 8 αρχεία, 5 τύπου .java, 1 τύπου .txt(το παρόν), 1 τύπου .jj (η γραμματική της γλώσσας) και 1 Makefile .
(Υπάρχουν και δύο αρχεία τύπου .jar που βοήθουν στη μεταγλώττιση.)

Για να μεταγλωττιστεί το πρόγραμμα πρέπει πρώτα να γραφτεί η εντολή make.
Για να τρέξει το πρόγραμμα η εντολή που πρέπει να γραφτεί είναι  java Main [file1] [file2] ... [fileN].
Τα αρχεία τύπου .ll που θα παράγονται από το πρόγραμμα αποθηκεύονται στο ίδιο φάκελο που βρίσκεται το αρχείο .java για μεταγλώττιση.

Η άσκηση αυτή έχει υλοποιηθεί σύμφωνα με τις απαιτήσεις της εκφώνησης, μια επιτυχιμένη εκτέλεση του προγράμματος εκτυπώνει τη φράση "Program parsed successfully" (άμα επιθυμείτε μπορείτε να ξεσχολιάσετε την εκτύπωση του οffset table που υπάρχει στο αρχείο Main.java για να εκτυπώνετε και αυτό), στην οθόνη.

Η εργασία αυτή βασίζεται στη δεύτερη εργασία των μεταγλωττιστών με τη προσθήκη ενός επιπλέον αρχείου MJVisitor.java που μεταγλωττίζει ένα αρχείο από γλώσσα MiniJava σε LLVM. Η μεταγλώττιση αυτή γίνεται σύμφωνα με την εκφώνηση και τα παραδείγματα της άσκησης που υπάρχουν στην ιστοσελίδα του μαθήματος. Μικρές αλλαγές και επιδιορθώσεις έγιναν στο δεύτερο visitor MJVisitor2.java για τα offset των μεταβλητών και των μεθόδων (σημειωμένα στα σχόλια ένα ! για να ξεχωριζει) για να βοηθήσουν τον τρίτο visitor MJVisitor.java να μεταγλωττίζει σωστά.

Στην εργασία αυτή υπάρχει μια βοηθητική κλάση (SymbolIfo) που περνάει σαν όρισμα σε κάθε συνάρτηση visit και περιέχει τον πίνακα συμβόλων (symbol table) μαζί με τα offset που είναι ορισμένος στο SymbolInfo.java ως ClassInfo. Επιπλέον περιέχει μερικές μεταβλητές που βοηθούν στην καλύτερη διεκπεραίωση του κώδικα όπως: οι μεταβλητές _class και _method που χρησιμοποιούνται για την ενήμερωση των αντίστοιχων πεδίων της παραμέτρου argu των επόμενων κλήσεων της visit ,έτσι ώστε να γνωρίζουν σε ποία κλάση ή μεθοδο ανήκουν και να γίνεται ευκολότερη η αναζήτηση στον πίνακα, η μεταβλητή want_identifier που χρησιμεύει αν η συνάρτηση visit του identifier θα επιστρέψει το όνομα της μεταβλητής ή τον τύπο της μεταβλητής και τέλος χρησιμοποιήται ένας πίνακας, με μια μικρή τροποποιήση σε σχέση με τη 2η άσκηση δηλαδή προστέθηκε άλλο ένα πεδίο τύπου string για το όνομα των μεταβλητων (σημειωμένα στα σχόλια ένα ! για να ξεχωριζει) άρα τώρα ο πίνακας αυτός αποτελείται απο στοιχεία της κλάσης FormalInfo που έχει δύο strings ένα για το όνομα και ένα για τον τύπο της μεταβητής. Οπότε ο πίνακας αυτός χρησιμοποιήται για προσωρινή αποθήκευση των τύπων των μεταβλητών που υπάρχουν σε μια κλήση μεθόδου και συγκρίνεται με τη λίστα δήλωσης των παραμέτρων της μεθόδου(Formal Parameter List) και εκτύπωση των κατάλληλων register σύμφωνα με τα ονόματα και τους τύπους των μεταβλητών.

Σε περίπτωση λάθους στην οθόνη εκτυπώνεται το Exception που έχει ορίστει για κάθε περίπτωση.
Για περισσότερες πληροφορίες υπάρχουν σχόλια δίπλα στον κώδικα.
